{"id":"islo","dependencies":[{"name":"V:\\projects\\market sys\\RND_market_backend\\package.json","includedInParent":true,"mtime":1706855948155},{"name":"../config/db_connect","loc":{"line":3,"column":19,"index":90},"parent":"V:\\projects\\market sys\\RND_market_backend\\app\\controllers\\userAccessController.js","resolved":"V:\\projects\\market sys\\RND_market_backend\\app\\config\\db_connect.js"},{"name":"../models/userAccess","loc":{"line":6,"column":28,"index":191},"parent":"V:\\projects\\market sys\\RND_market_backend\\app\\controllers\\userAccessController.js","resolved":"V:\\projects\\market sys\\RND_market_backend\\app\\models\\userAccess.js"}],"generated":{"js":"const e=require(\"express\"),s=e.Router(),r=require(\"../config/db_connect\"),n=r.user,t=\"users\",i=require(\"../models/userAccess\");async function a(e,s){const n=e.params.id;try{const e=`SELECT * FROM ${t} WHERE id = ${n}`,a=await r.executeQuery(e);if(!a)return s.status(404).send({message:\"User Not found.\"});{const e=`\\n        SELECT \\n        st.menu_id,\\n\\t\\t\\t\\tst.role_id,\\n        am.label,\\n        am.office_id,\\n        JSON_ARRAYAGG(JSON_OBJECT('label', ai.label,'icon', ai.icon, 'routerLink',ai.routerLink )) as items\\n        FROM access_setup st\\n        INNER JOIN access_menu am ON am.id = st.menu_id\\n        INNER JOIN access_items ai ON ai.menu_id = am.id\\n        WHERE st.role_id = ${a[0].roleId}\\n        AND am.office_id = \"asdfsarw525\"\\n        GROUP BY st.menu_id\\n        `,n=await r.executeQuery(e);s.send(n)}}catch(i){console.error(i),s.status(400).send({error:\"Server error: Error grabbing user\"})}}module.exports={userAccessCtrl:a};"},"sourceMaps":null,"error":null,"hash":"77bf5a9fcaea853e1f4b934d4632d485","cacheData":{"env":{}}}