{"id":"Zwhr","dependencies":[{"name":"V:\\projects\\market sys\\RND_market_backend\\package.json","includedInParent":true,"mtime":1706855948155},{"name":"../config/db_connect","loc":{"line":3,"column":19,"index":90},"parent":"V:\\projects\\market sys\\RND_market_backend\\app\\controllers\\loginController.js","resolved":"V:\\projects\\market sys\\RND_market_backend\\app\\config\\db_connect.js"},{"name":"../models/userAuth","loc":{"line":5,"column":30,"index":183},"parent":"V:\\projects\\market sys\\RND_market_backend\\app\\controllers\\loginController.js","resolved":"V:\\projects\\market sys\\RND_market_backend\\app\\models\\userAuth.js"}],"generated":{"js":"const e=require(\"express\"),s=e.Router(),r=require(\"../config/db_connect\"),t=require(\"bcryptjs\"),u=require(\"../models/userAuth\"),n=\"users\";async function o(e,s){try{const{username:o,password:a}=e.body;if(!o||!a)return s.status(400).json({error:\"Username and password are required\"});const c=`SELECT * FROM user WHERE username = '${o}'`;var u=await r.executeQuery(c);if(u.length>0){await t.compare(a,u[0].password)?s.send({user_:u}):(u=[],s.send({user_:u}))}else s.status(400),s.send({status:\"User not found\",success:!1})}catch(n){console.error(n),s.status(500),s.send({status:\"authentication error\"})}}module.exports={login:o};"},"sourceMaps":null,"error":null,"hash":"450d44dcc4a7049cdb26561560306fe7","cacheData":{"env":{}}}